<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Creating a server for the internet &mdash; mrv2 v0.5.5 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            mrv2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to mrv2’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">mrv2 User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/index.html">Python API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">mrv2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Creating a server for the internet</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user_docs/internet/port_forwarding.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="creating-a-server-for-the-internet">
<span id="port-forwarding"></span><h1>Creating a server for the internet<a class="headerlink" href="#creating-a-server-for-the-internet" title="Permalink to this heading"></a></h1>
<section id="setting-up-a-linux-internet-server-for-remote-ssh-forwarding">
<h2>Setting up a Linux internet server for remote SSH forwarding<a class="headerlink" href="#setting-up-a-linux-internet-server-for-remote-ssh-forwarding" title="Permalink to this heading"></a></h2>
<p>Creating a server of mrv2 to be accessible on the internet involves creating a ssh remote port forwarding on a server sitting on the internet (internet server form now on).  We assume this internet server is a Linux machine.  This will allow one mrv2 running as a server and one mrv2 running as a client to connect to each other.</p>
<p>First, you need to install openssh in case you don’t have it on your internet server machine.  On Ubuntu or Debian:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">openssh</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
<p>on Red Hat or Rocky Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">openssh</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
<p>Then you need to edit the SSH server configuration file “/etc/ssh/sshd_config” with a text editor such as nano or vi.  Look for the setting called ‘AllowedTcpForwarding’ and set it to yes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AllowTcpForwarding</span> <span class="n">yes</span><span class="o">.</span>
</pre></div>
</div>
<p>You should also need to modify the /etc/ssh/ssh_config file to add or ensure that it is set to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GatewayPorts</span> <span class="n">yes</span>
</pre></div>
</div>
<p>Restart the SSH server to apply the changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">sshd</span>
</pre></div>
</div>
</section>
<section id="on-linux-or-macos">
<h2>On Linux or macOS<a class="headerlink" href="#on-linux-or-macos" title="Permalink to this heading"></a></h2>
<p>Now, on the machine where mrv2 will run as a server, you need to modify the /etc/ssh/ssh_config file to add or ensure that it is set to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GatewayPorts</span> <span class="n">yes</span>
</pre></div>
</div>
<p>Now, on the server machine, create an SSH tunnel that forwards traffic from port 443 on the server to port 55150 on the local machine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="o">-</span><span class="n">R</span> <span class="mi">443</span><span class="p">:</span><span class="n">localhost</span><span class="p">:</span><span class="mi">55150</span> <span class="n">public</span><span class="o">-</span><span class="n">ip</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">internet</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
</section>
<section id="on-windows">
<h2>On Windows<a class="headerlink" href="#on-windows" title="Permalink to this heading"></a></h2>
<p>To do remote port forwarding on Windows, you can use the SSH client called “PuTTY.” PuTTY is a popular SSH client for Windows that provides a graphical interface for configuring and establishing SSH connections.</p>
<p>Here’s how you can perform remote port forwarding using PuTTY:</p>
<ol class="arabic">
<li><p>Download and install PuTTY from the official website: <a class="reference external" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">https://www.chiark.greenend.org.uk/~sgtatham/putty/</a></p></li>
<li><p>Launch PuTTY and enter the hostname or IP address of the SSH server in the “Host Name (or IP address)” field.</p></li>
<li><p>Under the “Connection” category on the left-hand side, expand the “SSH” option and click on “Tunnels.”</p></li>
<li><p>In the “Add new forwarded port” section, enter the source port and destination in the following format:</p>
<blockquote>
<div><p>&lt;Source Port&gt; - Enter the local port on your Windows machine that you want to forward.  For our example, 443.</p>
<p>&lt;Destination&gt; - Enter the destination address and port in the format destination_address:port. For example, localhost:55150 to forward to localhost on port 55150.</p>
</div></blockquote>
</li>
<li><p>Select the “Remote” option and click the “Add” button.</p></li>
<li><p>Verify that the added port forwarding configuration appears in the “Forwarded ports” list.</p></li>
<li><p>Navigate back to the “Session” category and enter a name for the session in the “Saved Sessions” field. Click the “Save” button to save the session for future use.</p></li>
<li><p>Click the “Open” button to establish the SSH connection with port forwarding.</p></li>
</ol>
<p>Once the SSH connection is established with the remote port forwarding configuration, any connections made to the specified source port on your Windows machine will be forwarded to the specified destination address and port on the SSH server.</p>
<p>Make sure the SSH server allows remote port forwarding and has the necessary configuration for GatewayPorts if you want to access the forwarded port from other machines.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, mrv2 Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>